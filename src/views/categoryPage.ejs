<!-- Header -->
<%- include('layouts/header') %>

<!-- Sidebar -->
<%- include('layouts/sidebar') %>

<div class="main-content flex-grow-1 p-4">
  <div class="card shadow-lg">
    <!-- Card Header -->
    <div
      class="card-header d-flex justify-content-between align-items-center bg-dark text-white"
    >
      <h2 class="text-center">Library Categories</h2>
      <span><%- include('partials/createCategory') %></span>
    </div>

    <!-- Card Body -->
    <div class="card-body">
      <div class="table-responsive">
        <table
          class="table table-hover table-bordered align-middle text-center"
        >
          <!-- Table Header -->
          <thead class="table-dark text-light">
            <tr>
              <th class="text-center">No.</th>
              <th>Tên Danh Mục</th>
              <th>Mô Tả</th>
              <th class="text-center">Action</th>
            </tr>
          </thead>

          <!-- Table Body -->
          <tbody>
            <% dataTable.forEach((category, index) => { %>
            <tr>
              <td><%= index + 1 %></td>
              <td><%= category.name %></td>
              <td><%= category.description %></td>
              <td>
                <button
                  class="btn btn-outline-primary btn-sm btn_category_edit"
                  data-bs-toggle="modal"
                  data-bs-target="#editCategoryModal"
                  data-id="<%= category.category_id %>"
                  data-name="<%= category.name %>"
                  data-description="<%= category.description %>"
                >
                  Edit
                </button>
                <button
                  class="btn btn-outline-danger btn-sm"
                  onclick="confirmDelete('<%= category.category_id %>')"
                >
                  Delete
                </button>
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
        <%- include('partials/pagination', { dataTable }) %>
      </div>
    </div>
  </div>
  <script src="/js/pagination.js"></script>
  <!-- Includes and Scripts -->
  <%- include('partials/editCategory') %> <%- include('layouts/footer') %>
  <script src="/js/editCategory.js"></script>
</div>
